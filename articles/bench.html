<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>JSON Parsing Performance Benchmark: structr vs jsonlite vs rjson vs RJSONIO • structr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="JSON Parsing Performance Benchmark: structr vs jsonlite vs rjson vs RJSONIO">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">structr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/bench.html">JSON Parsing Performance Benchmark: structr vs jsonlite vs rjson vs RJSONIO</a></li>
    <li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started with structr</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ixpantia/structr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>JSON Parsing Performance Benchmark: structr vs jsonlite vs rjson vs RJSONIO</h1>
            
            <h4 data-toc-skip class="date">2025-04-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ixpantia/structr/blob/main/vignettes/bench.Rmd" class="external-link"><code>vignettes/bench.Rmd</code></a></small>
      <div class="d-none name"><code>bench.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This document benchmarks the performance of different R packages for
parsing JSON strings into R objects. We compare:</p>
<ol style="list-style-type: decimal">
<li>
<strong><code>structr</code></strong>: Parses JSON <em>and</em>
simultaneously validates it against a predefined schema (implemented in
Rust using <code>serde</code> and <code>simd-json</code>).</li>
<li>
<strong><code>jsonlite</code></strong>: A widely used, robust JSON
parser (implemented in C).</li>
<li>
<strong><code>rjson</code></strong>: Another JSON parser
(implemented in C).</li>
<li>
<strong><code>RJSONIO</code></strong>: A versatile JSON parser,
often used for interfacing with web APIs (implemented in C).</li>
</ol>
<p>The goal is to compare parsing speed across a wider range of JSON
structures, from simple atomic values to large arrays and deeply nested
objects.</p>
</div>
<div class="section level2">
<h2 id="benchmark-setup">Benchmark Setup<a class="anchor" aria-label="anchor" href="#benchmark-setup"></a>
</h2>
<p>We will test several scenarios representing common and challenging
JSON structures. For <code>structr</code>, we pre-build the required
structure definitions outside the timed benchmark loop, reflecting
typical usage (define the structure once, parse many times).</p>
<div class="section level3">
<h3 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h3>
<p>If you are reading this vignette on GitHub Pages, the benchmarks ran
in GitHub Actions. The results will differ every time they run depending
on many factors. If you want a true realistic benchmark, run the code in
your own environment.</p>
</div>
<div class="section level3">
<h3 id="json-data-and-structr-schemas">JSON Data and <code>structr</code> Schemas<a class="anchor" aria-label="anchor" href="#json-data-and-structr-schemas"></a>
</h3>
<p>The schemas and JSON objects are defined in the source code of this
document. Since the values can be long, they are hidden from the final
output, however, they are fully available in the source code.</p>
</div>
<div class="section level3">
<h3 id="benchmarking-parameters">Benchmarking Parameters<a class="anchor" aria-label="anchor" href="#benchmarking-parameters"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of times to run each benchmark expression</span></span>
<span><span class="co"># Adjust down for slower scenarios if needed</span></span>
<span><span class="va">benchmark_times_fast</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span><span class="va">benchmark_times_medium</span> <span class="op">&lt;-</span> <span class="fl">500</span></span>
<span><span class="va">benchmark_times_slow</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span></span>
<span><span class="co"># Unit for reporting timings</span></span>
<span><span class="va">benchmark_unit_fast</span> <span class="op">&lt;-</span> <span class="st">"us"</span> <span class="co"># microseconds</span></span>
<span><span class="va">benchmark_unit_medium</span> <span class="op">&lt;-</span> <span class="st">"ms"</span> <span class="co"># milliseconds</span></span>
<span><span class="va">benchmark_unit_slow</span> <span class="op">&lt;-</span> <span class="st">"ms"</span> <span class="co"># milliseconds</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="benchmark-results">Benchmark Results<a class="anchor" aria-label="anchor" href="#benchmark-results"></a>
</h2>
<p>We now run the benchmarks for each scenario. The plots show the
distribution of execution times (lower is better). Note the Y-axis is
often on a logarithmic scale due to potentially large performance
differences. We use <code>check = "equal"</code> or wrap
<code>fromJSON</code> calls in <code><a href="https://rdrr.io/r/base/try.html" class="external-link">try()</a></code> for complex cases
where strict equality might fail due to floating point differences or
minor structural variations between parsers, focusing instead on raw
speed.</p>
<div class="section level3">
<h3 id="scenario-1-simple-flat-object">Scenario 1: Simple Flat Object<a class="anchor" aria-label="anchor" href="#scenario-1-simple-flat-object"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_simple_object</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_simple_object</span>, <span class="va">structr_simple_object</span><span class="op">)</span>,</span>
<span>  jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_object</span>, simplifyDataFrame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_object</span><span class="op">)</span>,</span>
<span>  RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_object</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  times <span class="op">=</span> <span class="va">benchmark_times_fast</span>, unit <span class="op">=</span> <span class="va">benchmark_unit_fast</span>, check <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_simple_object</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 1: Simple Flat Object Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_fast</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: microseconds</span></span>
<span><span class="co">##      expr    min      lq     mean  median      uq      max neval</span></span>
<span><span class="co">##   structr  4.900  7.0330  9.02277  9.0820 10.3445   33.102  1000</span></span>
<span><span class="co">##  jsonlite 41.407 48.6110 56.74318 53.4145 61.3145  164.257  1000</span></span>
<span><span class="co">##     rjson 28.103 35.0905 41.23999 40.0445 43.6365  117.610  1000</span></span>
<span><span class="co">##   RJSONIO 33.763 41.5630 50.25814 46.1060 50.4790 2905.016  1000</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_simple_object-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-2-simple-array-integers-50-items">Scenario 2: Simple Array (Integers, 50 items)<a class="anchor" aria-label="anchor" href="#scenario-2-simple-array-integers-50-items"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_simple_array_int</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_simple_array_int</span>, <span class="va">structr_simple_array_int</span><span class="op">)</span>,</span>
<span>  jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_int</span><span class="op">)</span>, <span class="co"># simplify = TRUE default good here</span></span>
<span>  rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_int</span><span class="op">)</span>,</span>
<span>  RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_int</span><span class="op">)</span>, <span class="co"># simplify = TRUE default good here</span></span>
<span>  times <span class="op">=</span> <span class="va">benchmark_times_fast</span>, unit <span class="op">=</span> <span class="va">benchmark_unit_fast</span>, check <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_simple_array_int</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 2: Simple Array (Integers) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_fast</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: microseconds</span></span>
<span><span class="co">##      expr    min      lq      mean  median      uq      max neval</span></span>
<span><span class="co">##   structr  3.627  5.7560  7.238815  7.3190  8.4760   31.529  1000</span></span>
<span><span class="co">##  jsonlite 31.929 36.9740 40.382227 40.1000 42.4995   86.821  1000</span></span>
<span><span class="co">##     rjson 31.138 36.3225 41.862997 42.4390 45.0240  105.998  1000</span></span>
<span><span class="co">##   RJSONIO 44.663 50.8945 58.711869 54.5865 57.5570 3391.512  1000</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_simple_array_int-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-3-simple-array-strings-26-items">Scenario 3: Simple Array (Strings, 26 items)<a class="anchor" aria-label="anchor" href="#scenario-3-simple-array-strings-26-items"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_simple_array_str</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_simple_array_str</span>, <span class="va">structr_simple_array_str</span><span class="op">)</span>,</span>
<span>  jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_str</span><span class="op">)</span>,</span>
<span>  rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_str</span><span class="op">)</span>,</span>
<span>  RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_str</span><span class="op">)</span>,</span>
<span>  times <span class="op">=</span> <span class="va">benchmark_times_fast</span>, unit <span class="op">=</span> <span class="va">benchmark_unit_fast</span>, check <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_simple_array_str</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 3: Simple Array (Strings) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_fast</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: microseconds</span></span>
<span><span class="co">##      expr    min      lq      mean median      uq      max neval</span></span>
<span><span class="co">##   structr  4.218  6.0665  7.274424  7.364  8.3255   29.796  1000</span></span>
<span><span class="co">##  jsonlite 25.257 28.8990 32.301678 32.311 34.1985   84.457  1000</span></span>
<span><span class="co">##     rjson 29.124 32.7265 37.918101 38.197 41.1560  122.729  1000</span></span>
<span><span class="co">##   RJSONIO 39.694 44.6480 52.569191 49.047 52.2875 3123.763  1000</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_simple_array_str-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-4-nested-object">Scenario 4: Nested Object<a class="anchor" aria-label="anchor" href="#scenario-4-nested-object"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_nested_object</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>    structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_nested_object</span>, <span class="va">structr_nested_object</span><span class="op">)</span>,</span>
<span>    jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_nested_object</span>, simplifyVector <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_nested_object</span><span class="op">)</span>,</span>
<span>    RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_nested_object</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, <span class="co"># avoid matrix/df conversion</span></span>
<span>    times <span class="op">=</span> <span class="va">benchmark_times_fast</span>, unit <span class="op">=</span> <span class="va">benchmark_unit_fast</span>, check <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Disable check due to potential minor diffs</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_nested_object</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 4: Nested Object Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_fast</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: microseconds</span></span>
<span><span class="co">##      expr    min      lq     mean  median      uq      max neval</span></span>
<span><span class="co">##   structr 17.192 21.7555 25.09561 25.3180 27.3510   75.220  1000</span></span>
<span><span class="co">##  jsonlite 26.440 32.5250 36.67713 36.3080 39.0530   79.518  1000</span></span>
<span><span class="co">##     rjson 41.257 48.2745 55.02624 55.4030 58.9295  127.006  1000</span></span>
<span><span class="co">##   RJSONIO 53.330 62.3810 70.67295 66.8045 71.0725 2940.962  1000</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_nested_object-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-5-array-of-simple-objects-100-objects">Scenario 5: Array of Simple Objects (100 Objects)<a class="anchor" aria-label="anchor" href="#scenario-5-array-of-simple-objects-100-objects"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_array_of_objects</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>    structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_array_of_objects</span>, <span class="va">structr_array_of_objects</span><span class="op">)</span>,</span>
<span>    jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_array_of_objects</span>, simplifyVector <span class="op">=</span> <span class="cn">FALSE</span>, simplifyDataFrame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, <span class="co"># Force list output</span></span>
<span>    rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_array_of_objects</span><span class="op">)</span>,</span>
<span>    RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_array_of_objects</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, <span class="co"># Results in list of lists</span></span>
<span>    times <span class="op">=</span> <span class="va">benchmark_times_medium</span>, unit <span class="op">=</span> <span class="va">benchmark_unit_medium</span>, check <span class="op">=</span> <span class="st">"equal"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_array_of_objects</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 5: Array of 100 Objects Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_medium</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: milliseconds</span></span>
<span><span class="co">##      expr      min        lq      mean    median       uq      max neval</span></span>
<span><span class="co">##   structr 0.176338 0.2229700 0.2546936 0.2379535 0.252446 3.453147   500</span></span>
<span><span class="co">##  jsonlite 0.122068 0.1504850 0.1547849 0.1566870 0.162283 0.239777   500</span></span>
<span><span class="co">##     rjson 0.161441 0.1789785 0.1940448 0.1976690 0.205318 0.261407   500</span></span>
<span><span class="co">##   RJSONIO 0.247331 0.2638670 0.2809444 0.2714610 0.283183 3.566298   500</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_array_of_objects-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-6-large-array-of-simple-objects-1000-objects">Scenario 6: Large Array of Simple Objects (1000 Objects)<a class="anchor" aria-label="anchor" href="#scenario-6-large-array-of-simple-objects-1000-objects"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_large_array_of_objects</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>    structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_large_array_of_objects</span>, <span class="va">structr_large_array_of_objects</span><span class="op">)</span>,</span>
<span>    jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_of_objects</span>, simplifyVector <span class="op">=</span> <span class="cn">FALSE</span>, simplifyDataFrame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_of_objects</span><span class="op">)</span>,</span>
<span>    RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_of_objects</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    times <span class="op">=</span> <span class="va">benchmark_times_medium</span>,</span>
<span>    unit <span class="op">=</span> <span class="va">benchmark_unit_medium</span>,</span>
<span>    check <span class="op">=</span> <span class="st">"equal"</span> <span class="co"># Disable check</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_large_array_of_objects</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 6: Array of 1000 Objects Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_medium</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: milliseconds</span></span>
<span><span class="co">##      expr      min       lq     mean   median       uq       max neval</span></span>
<span><span class="co">##   structr 2.061904 2.346369 2.529860 2.460366 2.586091  7.201975   500</span></span>
<span><span class="co">##  jsonlite 1.364123 1.400270 1.505318 1.443561 1.539545  5.478933   500</span></span>
<span><span class="co">##     rjson 1.333125 1.391168 1.597127 1.429380 1.596832 10.640655   500</span></span>
<span><span class="co">##   RJSONIO 2.037698 2.157306 2.280629 2.183345 2.353833  6.645557   500</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_large_array_of_objects-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-7-large-integer-array-10000-items">Scenario 7: Large Integer Array (10,000 items)<a class="anchor" aria-label="anchor" href="#scenario-7-large-integer-array-10000-items"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_large_array_int</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>    structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_large_array_int</span>, <span class="va">structr_large_array_int</span><span class="op">)</span>,</span>
<span>    jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_int</span><span class="op">)</span>,</span>
<span>    rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_int</span><span class="op">)</span>,</span>
<span>    RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_int</span><span class="op">)</span>,</span>
<span>    times <span class="op">=</span> <span class="va">benchmark_times_medium</span>,</span>
<span>    unit <span class="op">=</span> <span class="va">benchmark_unit_medium</span>,</span>
<span>    check <span class="op">=</span> <span class="st">"equal"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_large_array_int</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 7: Large Integer Array (10k) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_medium</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: milliseconds</span></span>
<span><span class="co">##      expr      min        lq      mean    median        uq      max neval</span></span>
<span><span class="co">##   structr 0.189062 0.1944575 0.2093886 0.2021465 0.2240575 0.284460   500</span></span>
<span><span class="co">##  jsonlite 2.470184 2.6387890 2.7886052 2.7161135 2.7914335 6.445535   500</span></span>
<span><span class="co">##     rjson 1.046280 1.0686620 1.1599319 1.0877780 1.1131950 5.031148   500</span></span>
<span><span class="co">##   RJSONIO 2.511291 2.5492525 2.6488075 2.5639345 2.5862355 6.936981   500</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_large_array_int-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-8-large-string-array-10000-items">Scenario 8: Large String Array (10,000 items)<a class="anchor" aria-label="anchor" href="#scenario-8-large-string-array-10000-items"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_large_array_str</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>    structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_large_array_str</span>, <span class="va">structr_large_array_str</span><span class="op">)</span>,</span>
<span>    jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_str</span><span class="op">)</span>,</span>
<span>    rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_str</span><span class="op">)</span>,</span>
<span>    RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_str</span><span class="op">)</span>,</span>
<span>    times <span class="op">=</span> <span class="va">benchmark_times_medium</span>,</span>
<span>    unit <span class="op">=</span> <span class="va">benchmark_unit_medium</span>,</span>
<span>    check <span class="op">=</span> <span class="st">"equal"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_large_array_str</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 8: Large String Array (10k) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_medium</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: milliseconds</span></span>
<span><span class="co">##      expr      min       lq      mean    median        uq       max neval</span></span>
<span><span class="co">##   structr 0.674367 0.690442 0.7128009 0.7074295 0.7292045  1.065135   500</span></span>
<span><span class="co">##  jsonlite 2.234425 2.317440 2.4451515 2.3854665 2.4651205  6.018699   500</span></span>
<span><span class="co">##     rjson 1.308950 1.332113 1.5995878 1.3635770 1.3922600 80.843498   500</span></span>
<span><span class="co">##   RJSONIO 3.476410 3.517748 3.6277125 3.5394675 3.5718280  7.500942   500</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_large_array_str-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-9-deeply-nested-object-10-levels">Scenario 9: Deeply Nested Object (10 levels)<a class="anchor" aria-label="anchor" href="#scenario-9-deeply-nested-object-10-levels"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_deep_nest</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_deep_nest</span>, <span class="va">structr_deep_nest</span><span class="op">)</span>,</span>
<span>  jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_deep_nest</span>, simplifyVector <span class="op">=</span> <span class="cn">FALSE</span>, simplifyDataFrame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_deep_nest</span><span class="op">)</span>,</span>
<span>  RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_deep_nest</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  times <span class="op">=</span> <span class="va">benchmark_times_fast</span>,</span>
<span>  unit <span class="op">=</span> <span class="va">benchmark_unit_fast</span>,</span>
<span>  check <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_deep_nest</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 9: Deeply Nested Object (10 Levels) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_fast</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: microseconds</span></span>
<span><span class="co">##      expr    min      lq     mean  median      uq      max neval</span></span>
<span><span class="co">##   structr 12.543 14.8225 16.97672 16.8920 18.3440   45.816  1000</span></span>
<span><span class="co">##  jsonlite 16.070 19.4310 22.30582 22.2270 23.8595   83.395  1000</span></span>
<span><span class="co">##     rjson 29.034 34.1085 42.28573 39.1430 41.6325 3551.210  1000</span></span>
<span><span class="co">##   RJSONIO 37.650 42.6690 47.13731 46.9025 49.6975  132.837  1000</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_deep_nest-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-10-wide-object-100-fields">Scenario 10: Wide Object (100 fields)<a class="anchor" aria-label="anchor" href="#scenario-10-wide-object-100-fields"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_wide_object</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_wide_object</span>, <span class="va">structr_wide_object</span><span class="op">)</span>,</span>
<span>  jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_wide_object</span>, simplifyVector <span class="op">=</span> <span class="cn">FALSE</span>, simplifyDataFrame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_wide_object</span><span class="op">)</span>,</span>
<span>  RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_wide_object</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  times <span class="op">=</span> <span class="va">benchmark_times_medium</span>,</span>
<span>  unit <span class="op">=</span> <span class="va">benchmark_unit_medium</span>,</span>
<span>  check <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_wide_object</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 10: Wide Object (100 Fields) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_medium</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: milliseconds</span></span>
<span><span class="co">##      expr      min        lq       mean    median        uq      max neval</span></span>
<span><span class="co">##   structr 0.056275 0.0670855 0.07274820 0.0710670 0.0745940 0.131716   500</span></span>
<span><span class="co">##  jsonlite 0.039624 0.0480395 0.05407599 0.0523025 0.0554840 0.109184   500</span></span>
<span><span class="co">##     rjson 0.061404 0.0702610 0.07942248 0.0773740 0.0816525 0.176940   500</span></span>
<span><span class="co">##   RJSONIO 0.082204 0.0890460 0.09862707 0.0948920 0.1017195 0.193641   500</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_wide_object-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="summary-across-scenarios">Summary Across Scenarios<a class="anchor" aria-label="anchor" href="#summary-across-scenarios"></a>
</h2>
<p>Let’s combine the median times from all scenarios to visualize
relative performance. We convert all times to microseconds
(<code>us</code>) for comparison.</p>
<p><img src="bench_files/figure-html/combined_results-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andres Quintero.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
