<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>JSON Parsing Performance Benchmark: structr vs jsonlite vs rjson vs RJSONIO • structr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="JSON Parsing Performance Benchmark: structr vs jsonlite vs rjson vs RJSONIO">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">structr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/bench.html">JSON Parsing Performance Benchmark: structr vs jsonlite vs rjson vs RJSONIO</a></li>
    <li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started with structr</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ixpantia/structr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>JSON Parsing Performance Benchmark: structr vs jsonlite vs rjson vs RJSONIO</h1>
            
            <h4 data-toc-skip class="date">2025-04-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ixpantia/structr/blob/main/vignettes/bench.Rmd" class="external-link"><code>vignettes/bench.Rmd</code></a></small>
      <div class="d-none name"><code>bench.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This document benchmarks the performance of different R packages for
parsing JSON strings into R objects. We compare:</p>
<ol style="list-style-type: decimal">
<li>
<strong><code>structr</code></strong>: Parses JSON <em>and</em>
simultaneously validates it against a predefined schema (implemented in
Rust using <code>serde</code> and <code>simd-json</code>).</li>
<li>
<strong><code>jsonlite</code></strong>: A widely used, robust JSON
parser (implemented in C).</li>
<li>
<strong><code>rjson</code></strong>: Another JSON parser
(implemented in C).</li>
<li>
<strong><code>RJSONIO</code></strong>: A versatile JSON parser,
often used for interfacing with web APIs (implemented in C).</li>
</ol>
<p>The goal is to compare parsing speed across a wider range of JSON
structures, from simple atomic values to large arrays and deeply nested
objects.</p>
</div>
<div class="section level2">
<h2 id="benchmark-setup">Benchmark Setup<a class="anchor" aria-label="anchor" href="#benchmark-setup"></a>
</h2>
<p>We will test several scenarios representing common and challenging
JSON structures. For <code>structr</code>, we pre-build the required
structure definitions outside the timed benchmark loop, reflecting
typical usage (define the structure once, parse many times).</p>
<div class="section level3">
<h3 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h3>
<p>If you are reading this vignette on GitHub Pages, the benchmarks ran
in GitHub Actions. The results will differ every time they run depending
on many factors. If you want a true realistic benchmark, run the code in
your own environment.</p>
</div>
<div class="section level3">
<h3 id="json-data-and-structr-schemas">JSON Data and <code>structr</code> Schemas<a class="anchor" aria-label="anchor" href="#json-data-and-structr-schemas"></a>
</h3>
<p>The schemas and JSON objects are defined in the source code of this
document. Since the values can be long, they are hidden from the final
output, however, they are fully available in the source code.</p>
</div>
<div class="section level3">
<h3 id="benchmarking-parameters">Benchmarking Parameters<a class="anchor" aria-label="anchor" href="#benchmarking-parameters"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of times to run each benchmark expression</span></span>
<span><span class="co"># Adjust down for slower scenarios if needed</span></span>
<span><span class="va">benchmark_times_fast</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span><span class="va">benchmark_times_medium</span> <span class="op">&lt;-</span> <span class="fl">500</span></span>
<span><span class="va">benchmark_times_slow</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span></span>
<span><span class="co"># Unit for reporting timings</span></span>
<span><span class="va">benchmark_unit_fast</span> <span class="op">&lt;-</span> <span class="st">"us"</span> <span class="co"># microseconds</span></span>
<span><span class="va">benchmark_unit_medium</span> <span class="op">&lt;-</span> <span class="st">"ms"</span> <span class="co"># milliseconds</span></span>
<span><span class="va">benchmark_unit_slow</span> <span class="op">&lt;-</span> <span class="st">"ms"</span> <span class="co"># milliseconds</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="benchmark-results">Benchmark Results<a class="anchor" aria-label="anchor" href="#benchmark-results"></a>
</h2>
<p>We now run the benchmarks for each scenario. The plots show the
distribution of execution times (lower is better). Note the Y-axis is
often on a logarithmic scale due to potentially large performance
differences. We use <code>check = "equal"</code> or wrap
<code>fromJSON</code> calls in <code><a href="https://rdrr.io/r/base/try.html" class="external-link">try()</a></code> for complex cases
where strict equality might fail due to floating point differences or
minor structural variations between parsers, focusing instead on raw
speed.</p>
<div class="section level3">
<h3 id="scenario-1-simple-flat-object">Scenario 1: Simple Flat Object<a class="anchor" aria-label="anchor" href="#scenario-1-simple-flat-object"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_simple_object</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_simple_object</span>, <span class="va">structr_simple_object</span><span class="op">)</span>,</span>
<span>  jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_object</span>, simplifyDataFrame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_object</span><span class="op">)</span>,</span>
<span>  RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_object</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  times <span class="op">=</span> <span class="va">benchmark_times_fast</span>, unit <span class="op">=</span> <span class="va">benchmark_unit_fast</span>, check <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_simple_object</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 1: Simple Flat Object Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_fast</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: microseconds</span></span>
<span><span class="co">##      expr    min      lq      mean  median     uq      max neval</span></span>
<span><span class="co">##   structr  4.649  6.4770  8.395685  8.4410  9.678   29.726  1000</span></span>
<span><span class="co">##  jsonlite 41.277 47.5690 54.801872 52.1870 60.027  161.010  1000</span></span>
<span><span class="co">##     rjson 27.993 35.0455 40.290231 39.4890 43.080   91.581  1000</span></span>
<span><span class="co">##   RJSONIO 33.081 41.1965 48.815744 45.2445 49.793 2596.534  1000</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_simple_object-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-2-simple-array-integers-50-items">Scenario 2: Simple Array (Integers, 50 items)<a class="anchor" aria-label="anchor" href="#scenario-2-simple-array-integers-50-items"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_simple_array_int</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_simple_array_int</span>, <span class="va">structr_simple_array_int</span><span class="op">)</span>,</span>
<span>  jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_int</span><span class="op">)</span>, <span class="co"># simplify = TRUE default good here</span></span>
<span>  rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_int</span><span class="op">)</span>,</span>
<span>  RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_int</span><span class="op">)</span>, <span class="co"># simplify = TRUE default good here</span></span>
<span>  times <span class="op">=</span> <span class="va">benchmark_times_fast</span>, unit <span class="op">=</span> <span class="va">benchmark_unit_fast</span>, check <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_simple_array_int</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 2: Simple Array (Integers) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_fast</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: microseconds</span></span>
<span><span class="co">##      expr    min      lq      mean  median     uq      max neval</span></span>
<span><span class="co">##   structr  3.807  5.8860  7.198468  7.3085  8.471   30.096  1000</span></span>
<span><span class="co">##  jsonlite 31.959 37.0695 41.257056 40.1050 42.584   99.556  1000</span></span>
<span><span class="co">##     rjson 31.979 36.4380 42.193361 42.3040 44.729  109.765  1000</span></span>
<span><span class="co">##   RJSONIO 44.343 50.7700 59.598124 54.4110 57.507 3603.843  1000</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_simple_array_int-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-3-simple-array-strings-26-items">Scenario 3: Simple Array (Strings, 26 items)<a class="anchor" aria-label="anchor" href="#scenario-3-simple-array-strings-26-items"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_simple_array_str</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_simple_array_str</span>, <span class="va">structr_simple_array_str</span><span class="op">)</span>,</span>
<span>  jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_str</span><span class="op">)</span>,</span>
<span>  rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_str</span><span class="op">)</span>,</span>
<span>  RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_simple_array_str</span><span class="op">)</span>,</span>
<span>  times <span class="op">=</span> <span class="va">benchmark_times_fast</span>, unit <span class="op">=</span> <span class="va">benchmark_unit_fast</span>, check <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_simple_array_str</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 3: Simple Array (Strings) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_fast</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: microseconds</span></span>
<span><span class="co">##      expr    min      lq      mean  median      uq      max neval</span></span>
<span><span class="co">##   structr  4.268  5.8410  7.034094  7.0930  8.0750   27.782  1000</span></span>
<span><span class="co">##  jsonlite 24.516 28.0275 31.663562 31.8290 33.4170   80.381  1000</span></span>
<span><span class="co">##     rjson 28.433 32.0850 37.249660 37.7850 40.4955  111.187  1000</span></span>
<span><span class="co">##   RJSONIO 38.883 43.0300 51.376313 47.8845 51.1305 3121.624  1000</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_simple_array_str-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-4-nested-object">Scenario 4: Nested Object<a class="anchor" aria-label="anchor" href="#scenario-4-nested-object"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_nested_object</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>    structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_nested_object</span>, <span class="va">structr_nested_object</span><span class="op">)</span>,</span>
<span>    jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_nested_object</span>, simplifyVector <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_nested_object</span><span class="op">)</span>,</span>
<span>    RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_nested_object</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, <span class="co"># avoid matrix/df conversion</span></span>
<span>    times <span class="op">=</span> <span class="va">benchmark_times_fast</span>, unit <span class="op">=</span> <span class="va">benchmark_unit_fast</span>, check <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Disable check due to potential minor diffs</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_nested_object</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 4: Nested Object Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_fast</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: microseconds</span></span>
<span><span class="co">##      expr    min      lq     mean  median     uq      max neval</span></span>
<span><span class="co">##   structr 16.341 21.2650 24.43637 24.3905 26.349   73.718  1000</span></span>
<span><span class="co">##  jsonlite 25.708 32.3155 36.77939 36.5680 38.912   73.006  1000</span></span>
<span><span class="co">##     rjson 40.366 48.2750 54.99315 54.4270 57.833  117.209  1000</span></span>
<span><span class="co">##   RJSONIO 53.760 61.6045 70.49977 65.7575 69.961 2861.799  1000</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_nested_object-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-5-array-of-simple-objects-100-objects">Scenario 5: Array of Simple Objects (100 Objects)<a class="anchor" aria-label="anchor" href="#scenario-5-array-of-simple-objects-100-objects"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_array_of_objects</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>    structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_array_of_objects</span>, <span class="va">structr_array_of_objects</span><span class="op">)</span>,</span>
<span>    jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_array_of_objects</span>, simplifyVector <span class="op">=</span> <span class="cn">FALSE</span>, simplifyDataFrame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, <span class="co"># Force list output</span></span>
<span>    rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_array_of_objects</span><span class="op">)</span>,</span>
<span>    RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_array_of_objects</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, <span class="co"># Results in list of lists</span></span>
<span>    times <span class="op">=</span> <span class="va">benchmark_times_medium</span>, unit <span class="op">=</span> <span class="va">benchmark_unit_medium</span>, check <span class="op">=</span> <span class="st">"equal"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_array_of_objects</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 5: Array of 100 Objects Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_medium</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: milliseconds</span></span>
<span><span class="co">##      expr      min        lq      mean    median        uq      max neval</span></span>
<span><span class="co">##   structr 0.175087 0.2106885 0.2419952 0.2253005 0.2386860 3.409662   500</span></span>
<span><span class="co">##  jsonlite 0.120685 0.1495185 0.1538387 0.1557910 0.1615565 0.246229   500</span></span>
<span><span class="co">##     rjson 0.161752 0.1772310 0.1921014 0.1957400 0.2037255 0.339450   500</span></span>
<span><span class="co">##   RJSONIO 0.246229 0.2596740 0.2775724 0.2684360 0.2809540 3.453713   500</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_array_of_objects-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-6-large-array-of-simple-objects-1000-objects">Scenario 6: Large Array of Simple Objects (1000 Objects)<a class="anchor" aria-label="anchor" href="#scenario-6-large-array-of-simple-objects-1000-objects"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_large_array_of_objects</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>    structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_large_array_of_objects</span>, <span class="va">structr_large_array_of_objects</span><span class="op">)</span>,</span>
<span>    jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_of_objects</span>, simplifyVector <span class="op">=</span> <span class="cn">FALSE</span>, simplifyDataFrame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_of_objects</span><span class="op">)</span>,</span>
<span>    RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_of_objects</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    times <span class="op">=</span> <span class="va">benchmark_times_medium</span>,</span>
<span>    unit <span class="op">=</span> <span class="va">benchmark_unit_medium</span>,</span>
<span>    check <span class="op">=</span> <span class="st">"equal"</span> <span class="co"># Disable check</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_large_array_of_objects</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 6: Array of 1000 Objects Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_medium</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: milliseconds</span></span>
<span><span class="co">##      expr      min       lq     mean   median       uq       max neval</span></span>
<span><span class="co">##   structr 1.947503 2.250394 2.386582 2.319848 2.443223  6.454091   500</span></span>
<span><span class="co">##  jsonlite 1.368383 1.397242 1.493211 1.420866 1.529540  5.536219   500</span></span>
<span><span class="co">##     rjson 1.331274 1.378527 1.570004 1.410121 1.577103 10.269069   500</span></span>
<span><span class="co">##   RJSONIO 2.008166 2.141761 2.249032 2.157755 2.331380  5.964568   500</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_large_array_of_objects-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-7-large-integer-array-10000-items">Scenario 7: Large Integer Array (10,000 items)<a class="anchor" aria-label="anchor" href="#scenario-7-large-integer-array-10000-items"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_large_array_int</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>    structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_large_array_int</span>, <span class="va">structr_large_array_int</span><span class="op">)</span>,</span>
<span>    jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_int</span><span class="op">)</span>,</span>
<span>    rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_int</span><span class="op">)</span>,</span>
<span>    RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_int</span><span class="op">)</span>,</span>
<span>    times <span class="op">=</span> <span class="va">benchmark_times_medium</span>,</span>
<span>    unit <span class="op">=</span> <span class="va">benchmark_unit_medium</span>,</span>
<span>    check <span class="op">=</span> <span class="st">"equal"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_large_array_int</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 7: Large Integer Array (10k) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_medium</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: milliseconds</span></span>
<span><span class="co">##      expr      min       lq      mean   median       uq      max neval</span></span>
<span><span class="co">##   structr 0.188993 0.193987 0.2085216 0.201326 0.222776 0.338812   500</span></span>
<span><span class="co">##  jsonlite 2.470499 2.627267 2.7925804 2.694943 2.764498 9.652027   500</span></span>
<span><span class="co">##     rjson 1.046262 1.067902 1.1576628 1.083326 1.108593 4.726378   500</span></span>
<span><span class="co">##   RJSONIO 2.505254 2.540329 2.6257726 2.554791 2.577640 6.954906   500</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_large_array_int-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-8-large-string-array-10000-items">Scenario 8: Large String Array (10,000 items)<a class="anchor" aria-label="anchor" href="#scenario-8-large-string-array-10000-items"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_large_array_str</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>    structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_large_array_str</span>, <span class="va">structr_large_array_str</span><span class="op">)</span>,</span>
<span>    jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_str</span><span class="op">)</span>,</span>
<span>    rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_str</span><span class="op">)</span>,</span>
<span>    RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_large_array_str</span><span class="op">)</span>,</span>
<span>    times <span class="op">=</span> <span class="va">benchmark_times_medium</span>,</span>
<span>    unit <span class="op">=</span> <span class="va">benchmark_unit_medium</span>,</span>
<span>    check <span class="op">=</span> <span class="st">"equal"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_large_array_str</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 8: Large String Array (10k) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_medium</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: milliseconds</span></span>
<span><span class="co">##      expr      min       lq      mean   median        uq       max neval</span></span>
<span><span class="co">##   structr 0.681782 0.698719 0.7212037 0.713271 0.7383825  1.130850   500</span></span>
<span><span class="co">##  jsonlite 2.235501 2.327653 2.4461236 2.395059 2.4672775  5.893465   500</span></span>
<span><span class="co">##     rjson 1.345330 1.369525 1.6245735 1.400257 1.4221335 77.774182   500</span></span>
<span><span class="co">##   RJSONIO 3.416083 3.458197 3.5595576 3.482142 3.5075890  7.231542   500</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_large_array_str-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-9-deeply-nested-object-10-levels">Scenario 9: Deeply Nested Object (10 levels)<a class="anchor" aria-label="anchor" href="#scenario-9-deeply-nested-object-10-levels"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_deep_nest</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_deep_nest</span>, <span class="va">structr_deep_nest</span><span class="op">)</span>,</span>
<span>  jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_deep_nest</span>, simplifyVector <span class="op">=</span> <span class="cn">FALSE</span>, simplifyDataFrame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_deep_nest</span><span class="op">)</span>,</span>
<span>  RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_deep_nest</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  times <span class="op">=</span> <span class="va">benchmark_times_fast</span>,</span>
<span>  unit <span class="op">=</span> <span class="va">benchmark_unit_fast</span>,</span>
<span>  check <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_deep_nest</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 9: Deeply Nested Object (10 Levels) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_fast</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: microseconds</span></span>
<span><span class="co">##      expr    min     lq     mean  median      uq      max neval</span></span>
<span><span class="co">##   structr 12.373 14.477 16.95470 16.7310 18.1685   49.522  1000</span></span>
<span><span class="co">##  jsonlite 16.110 18.745 25.68532 21.9960 23.6240 3429.238  1000</span></span>
<span><span class="co">##     rjson 28.674 34.054 39.57854 39.0170 41.7680  108.823  1000</span></span>
<span><span class="co">##   RJSONIO 36.939 42.299 48.10787 46.7225 49.6825  123.510  1000</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_deep_nest-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="scenario-10-wide-object-100-fields">Scenario 10: Wide Object (100 fields)<a class="anchor" aria-label="anchor" href="#scenario-10-wide-object-100-fields"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bm_wide_object</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  structr <span class="op">=</span> <span class="fu">structr</span><span class="fu">::</span><span class="fu"><a href="../reference/parse_json.html">parse_json</a></span><span class="op">(</span><span class="va">json_wide_object</span>, <span class="va">structr_wide_object</span><span class="op">)</span>,</span>
<span>  jsonlite <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_wide_object</span>, simplifyVector <span class="op">=</span> <span class="cn">FALSE</span>, simplifyDataFrame <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  rjson <span class="op">=</span> <span class="fu">rjson</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rjson/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_wide_object</span><span class="op">)</span>,</span>
<span>  RJSONIO <span class="op">=</span> <span class="fu">RJSONIO</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="va">json_wide_object</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  times <span class="op">=</span> <span class="va">benchmark_times_medium</span>,</span>
<span>  unit <span class="op">=</span> <span class="va">benchmark_unit_medium</span>,</span>
<span>  check <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">print_and_plot</span><span class="op">(</span><span class="va">bm_wide_object</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Scenario 10: Wide Object (100 Fields) Parsing Time"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Time ("</span>, <span class="va">benchmark_unit_medium</span>, <span class="st">", log scale)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Unit: milliseconds</span></span>
<span><span class="co">##      expr      min        lq       mean    median        uq      max neval</span></span>
<span><span class="co">##   structr 0.054151 0.0631580 0.06815985 0.0679215 0.0709170 0.115736   500</span></span>
<span><span class="co">##  jsonlite 0.038833 0.0467670 0.05100620 0.0505445 0.0530540 0.095088   500</span></span>
<span><span class="co">##     rjson 0.061755 0.0695295 0.07605581 0.0762720 0.0799195 0.164908   500</span></span>
<span><span class="co">##   RJSONIO 0.079397 0.0868220 0.09348636 0.0919770 0.0979530 0.179446   500</span></span></code></pre>
<p><img src="bench_files/figure-html/bm_wide_object-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="summary-across-scenarios">Summary Across Scenarios<a class="anchor" aria-label="anchor" href="#summary-across-scenarios"></a>
</h2>
<p>Let’s combine the median times from all scenarios to visualize
relative performance. We convert all times to microseconds
(<code>us</code>) for comparison.</p>
<p><img src="bench_files/figure-html/combined_results-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andres Quintero.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
